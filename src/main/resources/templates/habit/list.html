<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <title>내 습관 | Mini Habit Tracker</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <style>
        .todo-container {
          max-width: 480px;
          margin: 40px auto;
          padding: 24px 20px;
          border-radius: 16px;
          background: #ffffff;
          box-shadow: 0 8px 24px rgba(0,0,0,0.06);
          font-family: system-ui, sans-serif;
        }

        .title {
          margin-bottom: 16px;
          font-size: 20px;
          font-weight: 700;
        }

        .todo-input-row {
          display: flex;
          justify-content: flex-start;
          margin-bottom: 12px;
        }

        .todo-add-btn {
          padding: 8px 14px;
          border-radius: 8px;
          border: none;
          background: #22c55e;
          color: #fff;
          cursor: pointer;
          text-decoration: none;
          font-size: 14px;
        }

        .todo-add-btn:hover {
          background: #16a34a;
        }

        .todo-filters {
          display: flex;
          gap: 6px;
          margin-bottom: 12px;
        }

        .filter {
          padding: 4px 10px;
          font-size: 12px;
          border-radius: 999px;
          border: none;
          background: #e5e7eb;
          cursor: pointer;
        }
        .filter.active {
          background: #22c55e;
          color: #fff;
        }

        .todo-list {
          list-style: none;
          padding: 0;
          margin: 0;
        }

        .todo-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 6px 0;
          border-bottom: 1px solid #f3f4f6;
        }
        .todo-item:last-child {
          border-bottom: none;
        }

        .todo-text {
          margin-left: 4px;
        }

        .todo-item.done .todo-text {
          text-decoration: line-through;
          color: #9ca3af;
        }

        .todo-delete-btn {
          border: none;
          background: transparent;
          font-size: 12px;
          color: #ef4444;
          cursor: pointer;
        }

        .empty-message {
          font-size: 14px;
          color: #6b7280;
        }
    </style>
</head>
<body>

<div class="todo-container">
    <h1 class="title">내 습관</h1>

    <!-- 상단: 새 습관 등록 버튼 (1.html의 입력 줄 자리에 사용) -->
    <div class="todo-input-row">
        <a th:href="@{/habit/create}" class="todo-add-btn">새 습관 등록하기</a>
    </div>

    <!-- 필터 UI (지금은 모양만, 기능 X) -->
    <div class="todo-filters">
        <button type="button" class="filter active">전체</button>
        <button type="button" class="filter">매일</button>
        <button type="button" class="filter">기타</button>
    </div>

    <!-- 습관 리스트 -->
    <ul class="todo-list">
        <!-- 습관이 하나도 없을 때 -->
        <li class="todo-item" th:if="${#lists.isEmpty(habits)}">
      <span class="empty-message">
        아직 등록된 습관이 없습니다. 위의 ‘새 습관 등록하기’를 눌러 만들어 보세요.
      </span>
        </li>

        <!-- DB에서 가져온 습관 목록 -->
        <li class="todo-item"
            th:each="habit : ${habits}"
            th:attr="data-habit-id=${habit.id}">
            <label>
                <input type="checkbox"/>
                <span class="todo-text" th:text="${habit.name}">습관 이름</span>
            </label>
            <!-- description 은 버튼 툴팁으로 보여줌 -->
            <button type="button"
                    class="todo-delete-btn"
                    th:title="${habit.description}">
                상세
            </button>
        </li>
    </ul>
</div>

</body>
</html>
